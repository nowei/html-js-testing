<!DOCTYPE html>
<!-- load the d3.js library -->    
<script src="./d3.js"></script>

<html>
<body>
<div id="svgcontainer">
<script>
  var width = 600;
  var height = 200;
  var svg = d3.select("#svgcontainer")
              .append("svg")
              .attr("width", width)
              .attr("height", height);
  var initialX = 40;
  var startX = initialX;
  var startY = 100;
  var message = svg.append("circle")
                   .attr("cx", initialX)
                   .attr("cy", startY)
                   .attr("r", 10)
                   .attr("fill", "green")
                   .style("stroke", "black")
                   .style("stroke-width", 2);
  var node1 = svg.append("circle")
                 .attr("cx", initialX)
                 .attr("cy", startY)
                 .attr("r", 30)
                 .attr("fill", "green")
                 .style("stroke", "black")
                 .style("stroke-width", 3);
  var node2 = svg.append("circle")
                 .attr("cx", 560)
                 .attr("cy", startY)
                 .attr("r", 30)
                 .attr("fill", "green")
                 .style("stroke", "black")
                 .style("stroke-width", 3);
  var speed = 1;
  function animate() {
    if (startX < 560)
    {
      message.attr("cx",startX);
      startX += speed;
    } else {
      startX = initialX;
      if (Math.random() < 0.5) {
        speed = 1;
      } else {
        speed = 2;
      }
    }
  }
  setInterval(animate, 10);
  // animate();
</script> 
</div>
</body>
</html>
